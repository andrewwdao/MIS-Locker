#
# This is a project Makefile. It is assumed the directory this Makefile resides in is a
# project subdirectory.
#

CC=gcc

###############################################################################
# INCLUDES DIRECTION
###############################################################################
IDIR =     /                                                               \
###############################################################################
# INCLUDES DIRECTION
###############################################################################
_DEPS =	Rasp_HC595.h                                                        \

DEPS = $(patsubst %,$(IDIR)/%,$(_DEPS))										\
###############################################################################
# OBJECTS DIRECTORY
###############################################################################
ODIR=obj																	\
###############################################################################
# OBJECTS CREATED
###############################################################################
_OBJ =  peripheral_init.o                                                   \
        Rasp_HC595.o												   		\
			
OBJ = $(patsubst %,$(ODIR)/%,$(_OBJ))										\
###############################################################################
# LIBRARY DIRECTORY
###############################################################################
LDIR =/lib
###############################################################################
# OUTSIDE LIBRARY INCLUDE
###############################################################################
LIBS =                                                                     \
  #          -l wiringPi                                                   
###############################################################################
# DEFINES
###############################################################################
CFLAGS  = -l wiringPi -O2 -Wall -pipe -I$(IDIR)                            \

$(ODIR)/%.o: %.c $(DEPS)
	$(CC) -c -o $@ $< $(CFLAGS)

#peripheral_main: $(OBJ)
#	$(CC) -o $@ $^ $(CFLAGS) $(LIBS)

peripheral_init: $(OBJ)
	$(CC) -o $@ $^ $(CFLAGS) $(LIBS)

.PHONY: clean

clean:
	rm -f $(ODIR)/*.o *~ core $(INCDIR)/*~ 
